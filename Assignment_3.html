<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="IJ">
<meta name="dcterms.date" content="2022-11-10">

<title>Arbeidskrav 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="Assignment_3_files/libs/clipboard/clipboard.min.js"></script>
<script src="Assignment_3_files/libs/quarto-html/quarto.js"></script>
<script src="Assignment_3_files/libs/quarto-html/popper.min.js"></script>
<script src="Assignment_3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Assignment_3_files/libs/quarto-html/anchor.min.js"></script>
<link href="Assignment_3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Assignment_3_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Assignment_3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Assignment_3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Assignment_3_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Arbeidskrav 3</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>IJ </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 10, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<p>Ut fra et mindre studie, simuleres en populasjon på en million, hvor gjennomsnittet (mean) er på 1.5 og standardavviket (SD) på 3. Ut av denne populasjonen trekker vi to utvalg. Et av studiene har et utvalg (n) på 8 (samp1) og det andre på 40 (samp2). Ut fra disse, lager vi en lineær model og lagrer objektene som m1 og m2:</p>
<p>Utvalg 1 - samp1</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ 1, data = samp1)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.5322 -1.2523 -0.0883  1.3540  4.8692 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)    1.840      1.251    1.47    0.185

Residual standard error: 3.539 on 7 degrees of freedom</code></pre>
</div>
</div>
<p>Utvalg 2 - samp2</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ 1, data = samp2)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.6557 -2.2883  0.2636  2.2549  6.4212 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)   
(Intercept)   1.5642     0.4774   3.276  0.00221 **
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.019 on 39 degrees of freedom</code></pre>
</div>
</div>
<section id="oppgave-1." class="level1">
<h1>Oppgave 1.</h1>
<p>Estimatet er et beregnet gjennomsnitt av alle verdier i utvalget. I våre beregniner er estimatet 1.840 for samp1 og 1.564 for samp2. Hvor godt et slikt estaimat er, avhenger av hvor hvor mye fordelingen X er spredt rundt µ (populasjonens mean). Våre undersøkelser viser at utvalg 2 har et lavere estimat, og er derfor mer presis.</p>
<p>Standard Error (SE) er definert som standard deviasjonen (SD), delt på kvadratroten av antall observasjoner (n). SE er en måte å angi feilmarginen av en måling eller et estimat. I vår oppgave er SE 1.251 for samp1 og 0.477 for samp2. Vi ser da at et større utvalg som i samp2 gir en mindre SE. Dette indikerer en mindre feilmargin på estimatet i samp2.</p>
<p>T-verdien en beregnes som en ratio av Estimatet og SD (Est/SD). T-verdien forteller oss om vi kan forkaste nullhypotesen på det testnivå vi operer med. Jo høyere t-verdi, desto mindre sannsynlighet for at forskjellen vi observerer er tilfeldig. I våre beregninger er t-verdien 1.47 for samp1 og 3.27 for samp2. Det er derfor mindre sannsynlighet for at funnene i vårt største utvalg er tilfeldige funn.</p>
<p>P-verdien et statistisk mål, som brukes for å avgjøre hvilken av to motstridende påstander vi skal støtte i en statistisk hypotesetesting. Det forteller oss om sannsynligheten for at testresultatet er det samme, eller mer ekstremt om nullhypotesen er sann. P-verdien er et tall mellom 0 og 1. Jo lavere verdi, jo mindre forenlig er våre observasjoner med nullypotesen. Om p-verdien er under det signifikansnivå vi har satt (typisk 5%), vil man si at testen er signifikant.</p>
</section>
<section id="oppgave-2." class="level1">
<h1>Oppgave 2.</h1>
<p>De to studiene har ulik utvalgstørrelse. Når vi benytter utvalg av en simulert populasjon, er det da viktig at utvalgene ikke blir for små. Risikoen for å få tilfeldige feil vil øke i mindre studier.</p>
</section>
<section id="oppgave-3." class="level1">
<h1>Oppgave 3.</h1>
<p>De skyggelagte områdene i øvre og nedre del av halen på t-fordelingen definerer området hvor verdiene er mer ekstreme enn vår t-verdi. Vi kan beskrive hvert skravert område som α /2, hvor området i midten under kurven er 1- α. Det midterste uskraverte arealet korresponderer med nullhypotesen.</p>
<div class="cell">

</div>
</section>
<section id="oppgave-4." class="level1">
<h1>Oppgave 4.</h1>
<p>Beregner SE og gjennomsnitlig SE for samp1 og samp2</p>
<div class="cell">
<div class="cell-output-display">

<div id="cowkjyvvkq" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#cowkjyvvkq) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#cowkjyvvkq) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#cowkjyvvkq) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#cowkjyvvkq) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#cowkjyvvkq) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#cowkjyvvkq) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#cowkjyvvkq) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#cowkjyvvkq) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cowkjyvvkq) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#cowkjyvvkq) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#cowkjyvvkq) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#cowkjyvvkq) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#cowkjyvvkq) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cowkjyvvkq) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#cowkjyvvkq) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#cowkjyvvkq) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cowkjyvvkq) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#cowkjyvvkq) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cowkjyvvkq) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#cowkjyvvkq) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cowkjyvvkq) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#cowkjyvvkq) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#cowkjyvvkq) .gt_left {
  text-align: left;
}

:where(#cowkjyvvkq) .gt_center {
  text-align: center;
}

:where(#cowkjyvvkq) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#cowkjyvvkq) .gt_font_normal {
  font-weight: normal;
}

:where(#cowkjyvvkq) .gt_font_bold {
  font-weight: bold;
}

:where(#cowkjyvvkq) .gt_font_italic {
  font-style: italic;
}

:where(#cowkjyvvkq) .gt_super {
  font-size: 65%;
}

:where(#cowkjyvvkq) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#cowkjyvvkq) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#cowkjyvvkq) .gt_indent_1 {
  text-indent: 5px;
}

:where(#cowkjyvvkq) .gt_indent_2 {
  text-indent: 10px;
}

:where(#cowkjyvvkq) .gt_indent_3 {
  text-indent: 15px;
}

:where(#cowkjyvvkq) .gt_indent_4 {
  text-indent: 20px;
}

:where(#cowkjyvvkq) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Simple size</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">SD of estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col">Average of SE</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">8</td>
<td class="gt_row gt_right">1.0708432</td>
<td class="gt_row gt_right">1.0213745</td></tr>
    <tr><td class="gt_row gt_right">40</td>
<td class="gt_row gt_right">0.4838475</td>
<td class="gt_row gt_right">0.4696954</td></tr>
  </tbody>
  
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="3"> Abbrivations: SD, standarddeviation</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
<p>Som vist er SD og gjennomsnitt av SE for henholdsvis sample8 og sample40 svært like.</p>
<p>Standard Deviasjonen måler hvor mye de individuelle data varierer fra gjennomsnittet.</p>
<p>Standard Error av gjennomsnittet måler hvor langt fra utvalgets gjennomsnitt den sanne populasjonens gjennomsnitt befinner seg.</p>
<p>SE er en funksjon av standardavviket (SD) og utvalgstørrelsen n.&nbsp;SE = sd/√n Når utvalgsstørrelsen (n) øker, vil SE falle. Når n øker, vil også utvalgets gjennomsnitt estimeres med større presisjon.</p>
</section>
<section id="oppgave-5." class="level1">
<h1>Oppgave 5.</h1>
<p>Lager et histogram av p-verdier fra hvert av de to studie-utvalgene.</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Assignment_3_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>I samp1 er p-verdiene spredt fra 0-1, med en lett opphopning ned mot 0. I samp2 er det en overvekt p-verdier ned mot 0. Dette kan tolkes som at det er flere tester i samp2 med statistisk signifikans og at den statistiske styrken er høyere.</p>
</section>
<section id="oppgave-6." class="level1">
<h1>Oppgave 6.</h1>
<p>Beregner antall studier fra hvert utvalg som viser en statistisk signifikant effekt.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
      n sig_results
  &lt;dbl&gt;       &lt;dbl&gt;
1     8       0.227
2    40       0.865</code></pre>
</div>
</div>
<p>Som vi ser er det stor forskjell mellom de to utvalgene. Vi har valgt en konfidensintervall på 95%. I utvalg 1 er det kun 22,7 % av studiene som viser signifikant forskjell. I utvalg 2 er det 86,5% av studiene som viser signifikant forskjell.</p>
</section>
<section id="oppgave-7." class="level1">
<h1>Oppgave 7.</h1>
<p>Beregner styrken på en en-utvalgs t-test hvor</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
     One-sample t test power calculation 

              n = 8
              d = 0.5
      sig.level = 0.05
          power = 0.232077
    alternative = two.sided</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
     One-sample t test power calculation 

              n = 40
              d = 0.5
      sig.level = 0.05
          power = 0.8693981
    alternative = two.sided</code></pre>
</div>
</div>
<p>Den beregnede styrken er på henholdsvis 0.232 for utvalg 1 og 0.869 for utvalg 2. Den statistsike styrken forteller oss sannsynligheten for at resultatet av studiene er statistisk signifikant. Ofte definerer vi at dette skal være minimum 0.8 eller 80%. I våre beregninger er derfor utvalget med 40 innenfor den ønskede statisske styrke.</p>
<p>Simulerer studier uten populasjonseffekt</p>
<div class="cell">

</div>
</section>
<section id="oppgave-8." class="level1">
<h1>Oppgave 8.</h1>
<p>Lager nye histogram for datasett med fra studier av en populasjon hvor den gjennomsnittlige effekten er null</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Assignment_3_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Beregner andelen tester under en bestemt p-verdi</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
      n sig_results
  &lt;dbl&gt;       &lt;dbl&gt;
1     8        0.04
2    40        0.06</code></pre>
</div>
</div>
<p>Med et konfidensintervall på 5%, vil 4 % studier i utvalg 1 og 6 % i utvalg 2 gi falske positive svar om man gjentar studien</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>